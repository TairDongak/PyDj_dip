{% extends 'main/content.html' %}
{% load static %}
{% block title %}
3.5. Конфигурация шаблонов
{% endblock %}
    {% block head %}Конфигурация шаблонов{% endblock %}
{% block content %}

    
    <p>За конфигурацию шаблонов в проекте отвечает переменная <strong>TEMPLATES</strong> в файле <strong>settings.py</strong>:</p>
    <nav class="navbar navbar-light" style="background-color: #e3f2fd;">
    <div><div id="highlighter_40550" class="syntaxhighlighter  py"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help"></a></strong></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="py plain">TEMPLATES </code><code class="py keyword">=</code> <code class="py plain">[</code></div><div class="line number2 index1 alt1"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">{</code></div><div class="line number3 index2 alt2"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py string">'BACKEND'</code><code class="py plain">: </code><code class="py string">'django.template.backends.django.DjangoTemplates'</code><code class="py plain">,</code></div><div class="line number4 index3 alt1"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py string">'DIRS'</code><code class="py plain">: [],</code></div><div class="line number5 index4 alt2"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py string">'APP_DIRS'</code><code class="py plain">: </code><code class="py color1">True</code><code class="py plain">,</code></div><div class="line number6 index5 alt1"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py string">'OPTIONS'</code><code class="py plain">: {</code></div><div class="line number7 index6 alt2"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py string">'context_processors'</code><code class="py plain">: [</code></div><div class="line number8 index7 alt1"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py string">'django.template.context_processors.debug'</code><code class="py plain">,</code></div><div class="line number9 index8 alt2"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py string">'django.template.context_processors.request'</code><code class="py plain">,</code></div><div class="line number10 index9 alt1"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py string">'django.contrib.auth.context_processors.auth'</code><code class="py plain">,</code></div><div class="line number11 index10 alt2"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py string">'django.contrib.messages.context_processors.messages'</code><code class="py plain">,</code></div><div class="line number12 index11 alt1"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">],</code></div><div class="line number13 index12 alt2"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">},</code></div><div class="line number14 index13 alt1"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">},</code></div><div class="line number15 index14 alt2"><code class="py plain">]</code></div></div></td></tr></tbody></table></div></div>
    </nav>
    <ul>
    <li><p>Переменная <strong>BACKEND</strong> указывает, что надо использовать шаблоны Django</p></li>
    <li><p>Переменная <strong>DIRS</strong> указывает на каталоги в проекте, которые будут содержать шаблоны</p></li>
    <li><p>Переменная <strong>APP_DIRS</strong> при значении True указывает, что поиск шаблонов будет производиться не только в самой папке, указанной в параметре DIRS, но и в ее 
    подкаталогах. Если такое поведение недопустимо, то можно установить значение False.</p></li>
    <li><p>Переменная <strong>OPTIONS</strong> указывает, какие обработчики (процессоры) будут использоваться при обработке шаблонов.</p></li>
    </ul>
    <h3>Пути к шаблонам</h3>
    <p>Как правило, шаблоны помещаются в общую папку в проекте, либо ее подкаталоги. Например, можно определить папку <strong>templates</strong>. Если в проекте 
    несколько приложений, которые должны использовать какие-то свои шаблоны, то, чтобы избежать проблем с именованием, мы можем создать для каждого приложения подкаталог, 
    в который помещаются шаблоны для конкретного приложения.</p>
    <img class="displayed" src="{% static "images/3/2.16.png" %}" alt="Пути к шаблонам в Django">
    <p>В этом случае в файле setting.py мы можем определить путь к шаблонам следующим образом:</p>
    <nav class="navbar navbar-light" style="background-color: #e3f2fd;">
    <div><div id="highlighter_176200" class="syntaxhighlighter  py"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help"></a></strong></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="py plain">TEMPLATE_DIR </code><code class="py keyword">=</code> <code class="py plain">os.path.join(BASE_DIR, </code><code class="py string">"templates"</code><code class="py plain">)</code></div><div class="line number2 index1 alt1"><code class="py plain">TEMPLATES </code><code class="py keyword">=</code> <code class="py plain">[</code></div><div class="line number3 index2 alt2"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">{</code></div><div class="line number4 index3 alt1"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py string">'BACKEND'</code><code class="py plain">: </code><code class="py string">'django.template.backends.django.DjangoTemplates'</code><code class="py plain">,</code></div><div class="line number5 index4 alt2"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py string">'DIRS'</code><code class="py plain">: [TEMPLATE_DIR,],</code></div><div class="line number6 index5 alt1"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py string">'APP_DIRS'</code><code class="py plain">: </code><code class="py color1">True</code><code class="py plain">,</code></div><div class="line number7 index6 alt2"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py comments"># .........................</code></div></div></td></tr></tbody></table></div></div>
    </nav>
        <p>В этом случае берется определенная в начале файла settings.py переменная BASE_DIR:</p>
    <nav class="navbar navbar-light" style="background-color: #e3f2fd;">
    <div><div id="highlighter_494531" class="syntaxhighlighter  py"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help"></a></strong></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="py plain">BASE_DIR </code><code class="py keyword">=</code> <code class="py plain">os.path.dirname(os.path.dirname(os.path.abspath(__file__)))</code></div></div></td></tr></tbody></table></div></div>
    </nav>
        <p>которая представляет путь к проекту, и к этому пути добавляется папка templates.</p>
    <p>Есть еще один способ расположения шаблонов, который предлолагает определение в каждом приложении своей папки для шаблонов:</p>
    <img class="displayed" src="{% static "images/3/2.17.png" %}">
    <p>В этом случае путь к шаблонам выглядел бы так:</p>
    <nav class="navbar navbar-light" style="background-color: #e3f2fd;">
    <div><div id="highlighter_813677" class="syntaxhighlighter  py"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help"></a></strong></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="py plain">TEMPLATE_DIR </code><code class="py keyword">=</code> <code class="py plain">os.path.join(os.path.dirname(os.path.abspath(__file__)), </code><code class="py string">"templates"</code><code class="py plain">)</code></div><div class="line number2 index1 alt1"><code class="py plain">TEMPLATES </code><code class="py keyword">=</code> <code class="py plain">[</code></div><div class="line number3 index2 alt2"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">{</code></div><div class="line number4 index3 alt1"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py string">'BACKEND'</code><code class="py plain">: </code><code class="py string">'django.template.backends.django.DjangoTemplates'</code><code class="py plain">,</code></div><div class="line number5 index4 alt2"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py string">'DIRS'</code><code class="py plain">: [TEMPLATE_DIR,],</code></div><div class="line number6 index5 alt1"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py string">'APP_DIRS'</code><code class="py plain">: </code><code class="py color1">True</code><code class="py plain">,</code></div><div class="line number7 index6 alt2"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py comments"># .........................</code></div></div></td></tr></tbody></table></div></div>
    </nav>
{% endblock %}